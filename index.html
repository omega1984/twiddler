<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="livestamp.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
  </head>
  <body>
    <div>
      <h1>Shixiong's Twiddler</h1>
    </div>
    <div class="tweets">
      <section class="main"></section>
      <section class="newFeed"></section>
    </div>


    <script>
      $(document).ready(function(){
        var $body = $('.tweets');
        // $body.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div class=tweet></div>');
          var $user = $('<p class=user></p>');
          var $message = $('<p class=message></p>');
          var $dateTime = $('<p class=dateTime></p>');

          $user.addClass(tweet.user).attr('data-user', tweet.user).text('@' + tweet.user + ' ').appendTo($tweet);
          $message.text(tweet.message).appendTo($tweet);
          $dateTime.attr('data-livestamp', tweet.created_at.toUTCString()).appendTo($tweet);
          $tweet.appendTo('.main');
          index--;
        }

        // button for new tweets
        var $button = $("<input class=btn type=button value='Check New Tweet'>");
        $button.appendTo($body);

        $button.on("click", function(){
          generateRandomTweet();
          var newTweet = streams.home.pop();
          var $newTweet = $('<div class=tweet></div>');
          $newTweet.text('@' + newTweet.user + ': ' + newTweet.message);
          $newTweet.appendTo('.newFeed');


        });

      });
    </script>
  </body>
</html>

<!-- streams = {
    home: [], 
    users: {
        "mracus": [tweet"], 
        "sharksforcheap": ["tweet"], 
        "douglascalhoun": ["tweet"], 
        "shawndrost": ["tweet"]
    }
}; -->



